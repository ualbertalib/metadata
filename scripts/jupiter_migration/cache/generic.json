PREFIX premis: <http://www.loc.gov/premis/rdf/v1#>  PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>  PREFIX ual: <http://terms.library.ualberta.ca/>  PREFIX ualids: <http://terms.library.ualberta.ca/identifiers/>  PREFIX ualid: <http://terms.library.ualberta.ca/id/>  PREFIX ualdate: <http://terms.library.ualberta.ca/date/>  PREFIX ualrole: <http://terms.library.ualberta.ca/role/>  PREFIX ualthesis: <http://terms.library.ualberta.ca/thesis/>  PREFIX info: <info:fedora/fedora-system:def/model#>  PREFIX dcterm: <http://purl.org/dc/terms/>  PREFIX pcdm: <http://pcdm.org/models#>  PREFIX works: <http://pcdm.org/works#>  PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>  PREFIX fedora: <http://fedora.info/definitions/v4/repository#>  PREFIX iana: <http://www.iana.org/assignments/relation/>  PREFIX dc: <http://purl.org/dc/elements/1.1/>  PREFIX acl: <http://projecthydra.org/ns/auth/acl#>  PREFIX webacl: <http://www.w3.org/ns/auth/acl#>  PREFIX scholar: <http://scholarsphere.psu.edu/ns#>  PREFIX rels: <info:fedora/fedora-system:def/relations-external#>  PREFIX vivo: <http://vivoweb.org/ontology/core#>  PREFIX bibo: <http://purl.org/ontology/bibo/>  PREFIX mrels: <http://id.loc.gov/vocabulary/relators/>  PREFIX prism: <http://prismstandard.org/namespaces/basic/3.0/>  PREFIX cc: <http://creativecommons.org/ns#>  PREFIX fabio: <http://purl.org/spar/fabio/>  PREFIX lang: <http://id.loc.gov/vocabulary/iso639-2/>  PREFIX mrel: <http://id.loc.gov/vocabulary/relators/>  PREFIX naf: <http://id.loc.gov/authorities/names/>  PREFIX swrc: <http://ontoware.org/swrc/ontology#>  PREFIX schema: <http://schema.org/>  PREFIX ldp: <http://www.w3.org/ns/ldp#>  PREFIX use: <http://pcdm.org/use#>  PREFIX ebucore: <http://www.ebu.ch/metadata/ontologies/ebucore/ebucore#>
CONSTRUCT { 
	?jupiterResource dcterm:available ?available ;
	dcterm:accessRights ?visibility ;
	rdf:type works:Work;
	rdf:type pcdm:Object ;
	bibo:owner ?owner ;
	acl:embargoHistory ?history ;
	acl:visibilityAfterEmbargo ?visAfter ;
	pcdm:hasRelatedObject ?jupiterRelatedObject ;
	ldp:contains ?jupiterRelatedObject ;
	pcdm:hasMember ?jupiterRelatedObject .
 	?jupiterRelatedObject info:hasModel 'IRItem' ;
	rdf:type fedora:Container ;
	rdf:type fedora:Resource ;
	rdf:type pcdm:Object ;
	rdf:type works:Work ;
	rdf:type ldp:Container ;
	rdf:type ldp:RDFSource ;
	fedora:created ?fedoraCreated ;
	fedora:lastModified ?fedoraLastModified ;
	fedora:createdBy ?fedoraCreatedBy ;
	fedora:lastModifiedBy ?fedoraLastModifiedBy ;
	fedora:writable ?relatedFedoraWritable ;
	pcdm:hasMember ?relatedFileset ;
	fedora:hasParent ?jupiterResource ;
	ldp:contains ?files ;
	ldp:membershipResource ?files .
 	?relatedFileset info:hasModel 'IRFileSet' ;
	rdf:type fedora:Container ;
	rdf:type fedora:Resource ;
	rdf:type pcdm:Object ;
	rdf:type works:FileSet ;
	rdf:type ldp:Container ;
	rdf:type ldp:RDFSource ;
	pcdm:hasFile ?relatedFile ;
	pcdm:isMemberOf ?jupiterRelatedObject ;
	fedora:hasParent ?jupiterRelatedObject ;
	pcdm:relatedObjectOf ?jupiterResource ;
	ldp:contains ?relatedFiles ;
	ldp:membershipResource ?relatedFiles .
 	?relatedFiles info:hasModel 'ActiveFedora::DirectContainer' ;
	rdf:type fedora:Container ;
	rdf:type fedora:Resource ;
	rdf:type ldp:DirectContainer ;
	rdf:type ldp:RDFSource ;
	fedora:created ?fedoraCreated ;
	fedora:lastModified ?fedoraLastModified ;
	fedora:createdBy ?fedoraCreatedBy ;
	fedora:lastModifiedBy ?fedoraLastModifiedBy ;
	fedora:writable ?relatedFedoraWritable ;
	ldp:hasMemberRelation pcdm:hasFile ;
	ldp:contains ?relatedFile .
 	?relatedFile info:hasModel 'File' ;
	rdf:type ldp:NonRDFSource ;
	rdf:type fedora:Binary ;
	rdf:type fedora:Resource ;
	rdf:type pcdm:File ;
	rdf:type use:OriginalFile ;
	rdf:type pcdm:File ;
	pcdm:fileOf ?relatedFileset ;
	iana:describedby ?relatedFileFCR ;
	pcdm:isMemberOf ?relatedFileset ;
	fedora:hasParent ?relatedFiles ;
	fedora:hasFixityService ?relatedFileFixity ;
	ebucore:filename ?relatedOriginalName ;
	ebucore:hasMimeType ?relatedMimeType ;
	premis:hasMessageDigest ?relatedFedoraDigest ;
	premis:hasSize ?relatedSize ;
	fedora:created ?fedoraCreated ;
	fedora:lastModified ?fedoraLastModified ;
	fedora:createdBy ?fedoraCreatedBy ;
	fedora:lastModifiedBy ?fedoraLastModifiedBy ;
	fedora:writable ?relatedFedoraWritable ;
	rdf:type ?relatedRdfType ;
	fedora:mixinTypes ?relatedFileMixins .
 	?relatedFileFCR rdf:type ?relatedFCRRrdf ;
	iana:describes ?relatedFile ;
	fedora:hasVersions ?relatedFileVersions ;
	fedora:uuid ?relatedFileUUID ;
	fedora:mixinTypes ?relatedFileFCRMixins ;
	fedora:primaryType ?primaryType ;
	rdf:type ?relatedFCRRDFType ;
	fedora:created ?fedoraCreated ;
	fedora:lastModified ?fedoraLastModified ;
	fedora:createdBy ?fedoraCreatedBy ;
	fedora:lastModifiedBy ?fedoraLastModifiedBy ;
	fedora:writable ?relatedFedoraWritable .
 	?jupiterResource pcdm:hasMember ?directFileset .
 	?directFileset info:hasModel 'IRFileSet' ;
	rdf:type fedora:Container ;
	rdf:type fedora:Resource ;
	rdf:type pcdm:Object ;
	rdf:type works:FileSet ;
	rdf:type ldp:Container ;
	rdf:type ldp:RDFSource ;
	pcdm:hasFile ?directFile ;
	pcdm:isMemberOf ?jupiterResource ;
	fedora:hasParent ?jupiterResource ;
	ldp:contains ?directFiles ;
	ldp:membershipResource ?directFiles .
 	?directFiles info:hasModel 'ActiveFedora::DirectContainer' ;
	rdf:type fedora:Container ;
	rdf:type fedora:Resource ;
	rdf:type ldp:DirectContainer ;
	rdf:type ldp:RDFSource ;
	fedora:created ?fedoraCreated ;
	fedora:lastModified ?fedoraLastModified ;
	fedora:createdBy ?fedoraCreatedBy ;
	fedora:lastModifiedBy ?fedoraLastModifiedBy ;
	fedora:writable ?directFedoraWritable ;
	ldp:hasMemberRelation pcdm:hasFile ;
	ldp:contains ?directFile .
 	?directFile info:hasModel 'File' ;
	rdf:type ldp:NonRDFSource ;
	rdf:type fedora:Binary ;
	rdf:type fedora:Resource ;
	rdf:type pcdm:File ;
	rdf:type use:OriginalFile ;
	rdf:type pcdm:File ;
	pcdm:fileOf ?directFileset ;
	iana:describedby ?directFileFCR ;
	pcdm:isMemberOf ?directFileset ;
	fedora:hasParent ?directFiles ;
	fedora:hasFixityService ?directFileFixity ;
	ebucore:filename ?directOriginalName ;
	ebucore:hasMimeType ?directMimeType ;
	premis:hasMessageDigest ?directFedoraDigest ;
	premis:hasSize ?directSize ;
	fedora:created ?fedoraCreated ;
	fedora:lastModified ?fedoraLastModified ;
	fedora:createdBy ?fedoraCreatedBy ;
	fedora:lastModifiedBy ?fedoraLastModifiedBy ;
	fedora:writable ?directFedoraWritable ;
	rdf:type ?directRdfType ;
	fedora:mixinTypes ?directFileMixins .
 	?directFileFCR rdf:type ?directFCRRrdf ;
	iana:describes ?directFile ;
	fedora:hasVersions ?directFileVersions ;
	fedora:uuid ?directFileUUID ;
	fedora:mixinTypes ?directFileFCRMixins ;
	fedora:primaryType ?primaryType ;
	rdf:type ?directFCRRDFType ;
	fedora:created ?fedoraCreated ;
	fedora:lastModified ?fedoraLastModified ;
	fedora:createdBy ?fedoraCreatedBy ;
	fedora:lastModifiedBy ?fedoraLastModifiedBy ;
	fedora:writable ?directFedoraWritable . 
	?jupiterResource info:hasModel 'IRItem'^^xsd:string ;
	<http://terms.library.ualberta.ca/depositor> ?depositor ;
	<http://purl.org/dc/terms/temporal> ?temporal ;
	<http://terms.library.ualberta.ca/nnaFile> ?nnaFile ;
	<http://terms.library.ualberta.ca/fedora3UUID> ?fedoraUUID ;
	<http://terms.library.ualberta.ca/fedora3Handle> ?fedoraHandle ;
	<http://terms.library.ualberta.ca/nnaItem> ?nnaItem ;
	<http://purl.org/dc/terms/created> ?created ;
	<http://purl.org/dc/terms/source> ?source ;
	<http://purl.org/dc/terms/type> ?type ;
	<http://prismstandard.org/namespaces/basic/3.0/doi> ?doi ;
	<http://purl.org/ontology/bibo/status> ?status ;
	<http://purl.org/dc/terms/language> ?language ;
	<http://purl.org/dc/terms/identifier> ?identifier ;
	<http://terms.library.ualberta.ca/ark> ?ark ;
	<http://purl.org/dc/terms/alternative> ?alternative ;
	<http://terms.library.ualberta.ca/unicorn> ?unicorn ;
	<http://purl.org/dc/terms/spatial> ?spatial ;
	<http://purl.org/dc/terms/isVersionOf> ?isVersionOf ;
	<http://purl.org/dc/terms/license> ?license ;
	<http://purl.org/dc/terms/relation> ?relation ;
	<http://fedora.info/definitions/v4/repository#created> ?repositorycreated ;
	<http://fedora.info/definitions/v4/repository#createdBy> ?repositorycreatedBy ;
	<http://fedora.info/definitions/v4/repository#digest> ?repositorydigest ;
	<http://fedora.info/definitions/v4/repository#exportsAs> ?repositoryexportsAs ;
	<http://fedora.info/definitions/v4/repository#hasFixityService> ?repositoryhasFixityService ;
	<http://fedora.info/definitions/v4/repository#hasVersions> ?repositoryhasVersions ;
	<http://fedora.info/definitions/v4/repository#lastModified> ?repositorylastModified ;
	<http://fedora.info/definitions/v4/repository#lastModifiedBy> ?repositorylastModifiedBy ;
	<http://fedora.info/definitions/v4/repository#mimeType> ?repositorymimeType ;
	<http://fedora.info/definitions/v4/repository#mixinTypes> ?repositorymixinTypes ;
	<http://fedora.info/definitions/v4/repository#primaryType> ?repositoryprimaryType ;
	<http://fedora.info/definitions/v4/repository#uuid> ?repositoryuuid ;
	<http://fedora.info/definitions/v4/repository#writable> ?repositorywritable ;
	<http://pcdm.org/models#memberOf> ?modelsmemberOf ;
	<http://pcdm.org/models#memberOf> ?modelsmemberOf ;
	<info:fedora/fedora-system:def/model#downloadFilename> ?modeldownloadFilename ;
	<http://scholarsphere.psu.edu/ns#relativePath> ?nsrelativePath ;
	<http://scholarsphere.psu.edu/ns#onBehalfOf> ?nsonBehalfOf ;
	<http://scholarsphere.psu.edu/ns#proxyDepositor> ?nsproxyDepositor ;
	<info:fedora/fedora-system:def/model#isPartOf> ?modelisPartOf ;
	<http://www.loc.gov/premis/rdf/v1#hasOriginalName> ?vhasOriginalName ;
	<http://www.loc.gov/premis/rdf/v1#hasSize> ?vhasSize ;
	<info:fedora/fedora-system:def/model#createdDate> ?modelcreatedDate ;
	<http://terms.library.ualberta.ca/ingestBatch> ?ingestBatch ;
	<http://terms.library.ualberta.ca/ingestBatch> ?ingestBatch ;
	<info:fedora/fedora-system:def/relations-external#isPartOf> ?relationsexternalisPartOf ;
	<http://www.w3.org/1999/02/22-rdf-syntax-ns#type> ?rdfsyntaxnstype ;
	<http://purl.org/dc/terms/description> ?description ;
	<http://purl.org/dc/terms/modified> ?modified ;
	<http://purl.org/dc/terms/title> ?title ;
	<http://purl.org/dc/elements/1.1/creator> ?creator ;
	<http://purl.org/dc/elements/1.1/subject> ?subject ;
	<http://purl.org/dc/elements/1.1/contributor> ?contributor ;
	<http://purl.org/dc/elements/1.1/rights> ?rights 
}
WHERE { 
	?resource info:hasModel 'GenericFile'^^xsd:string ;
dcterm:type ?type .
filter(str(?type) != 'Thesis'^^xsd:string) .
FILTER (contains(str(?resource), 'http://gillingham.library.ualberta.ca:8080/fedora/rest/prod/44')) .
OPTIONAL { ?resource <http://id.loc.gov/vocabulary/relators/dpt> ?depositor .
	FILTER (str(?depositor)!='') } .
OPTIONAL { ?resource <http://purl.org/dc/terms/temporal> ?temporal .
	FILTER (str(?temporal)!='') } .
OPTIONAL { ?resource <http://terms.library.ualberta.ca/id/halpern:nnafile> ?nnaFile .
	FILTER (str(?nnaFile)!='') } .
OPTIONAL { ?resource <http://terms.library.ualberta.ca/id/fedora3uuid> ?fedoraUUID .
	FILTER (str(?fedoraUUID)!='') } .
OPTIONAL { ?resource <http://terms.library.ualberta.ca/id/fedora3handle> ?fedoraHandle .
	FILTER (str(?fedoraHandle)!='') } .
OPTIONAL { ?resource <http://terms.library.ualberta.ca/id/halpern:nnaitem> ?nnaItem .
	FILTER (str(?nnaItem)!='') } .
OPTIONAL { ?resource <http://purl.org/dc/terms/created> ?created .
	FILTER (str(?created)!='') } .
OPTIONAL { ?resource <http://purl.org/dc/terms/source> ?source .
	FILTER (str(?source)!='') } .
OPTIONAL { ?resource <http://purl.org/dc/terms/type> ?type .
	FILTER (str(?type)!='') } .
OPTIONAL { ?resource <http://terms.library.ualberta.ca/id/doi> ?doi .
	FILTER (str(?doi)!='') } .
OPTIONAL { ?resource <> ?status .
	FILTER (str(?status)!='') } .
OPTIONAL { ?resource <http://purl.org/dc/terms/language> ?language .
	FILTER (str(?language)!='') } .
OPTIONAL { ?resource <http://purl.org/dc/terms/identifier> ?identifier .
	FILTER (str(?identifier)!='') } .
OPTIONAL { ?resource <http://terms.library.ualberta.ca/id/arkid> ?ark .
	FILTER (str(?ark)!='') } .
OPTIONAL { ?resource <http://purl.org/dc/terms/alternative> ?alternative .
	FILTER (str(?alternative)!='') } .
OPTIONAL { ?resource <http://terms.library.ualberta.ca/id/unicorn> ?unicorn .
	FILTER (str(?unicorn)!='') } .
OPTIONAL { ?resource <http://purl.org/dc/terms/spatial> ?spatial .
	FILTER (str(?spatial)!='') } .
OPTIONAL { ?resource <http://purl.org/dc/terms/isVersionOf> ?isVersionOf .
	FILTER (str(?isVersionOf)!='') } .
OPTIONAL { ?resource <http://purl.org/dc/terms/license> ?license .
	FILTER (str(?license)!='') } .
OPTIONAL { ?resource <http://purl.org/dc/terms/relation> ?relation .
	FILTER (str(?relation)!='') } .
OPTIONAL { ?resource <http://fedora.info/definitions/v4/repository#created> ?repositorycreated .
	FILTER (str(?repositorycreated)!='') } .
OPTIONAL { ?resource <http://fedora.info/definitions/v4/repository#createdBy> ?repositorycreatedBy .
	FILTER (str(?repositorycreatedBy)!='') } .
OPTIONAL { ?resource <http://fedora.info/definitions/v4/repository#digest> ?repositorydigest .
	FILTER (str(?repositorydigest)!='') } .
OPTIONAL { ?resource <http://fedora.info/definitions/v4/repository#exportsAs> ?repositoryexportsAs .
	FILTER (str(?repositoryexportsAs)!='') } .
OPTIONAL { ?resource <http://fedora.info/definitions/v4/repository#hasFixityService> ?repositoryhasFixityService .
	FILTER (str(?repositoryhasFixityService)!='') } .
OPTIONAL { ?resource <http://fedora.info/definitions/v4/repository#hasVersions> ?repositoryhasVersions .
	FILTER (str(?repositoryhasVersions)!='') } .
OPTIONAL { ?resource <http://fedora.info/definitions/v4/repository#lastModified> ?repositorylastModified .
	FILTER (str(?repositorylastModified)!='') } .
OPTIONAL { ?resource <http://fedora.info/definitions/v4/repository#lastModifiedBy> ?repositorylastModifiedBy .
	FILTER (str(?repositorylastModifiedBy)!='') } .
OPTIONAL { ?resource <http://fedora.info/definitions/v4/repository#mimeType> ?repositorymimeType .
	FILTER (str(?repositorymimeType)!='') } .
OPTIONAL { ?resource <http://fedora.info/definitions/v4/repository#mixinTypes> ?repositorymixinTypes .
	FILTER (str(?repositorymixinTypes)!='') } .
OPTIONAL { ?resource <http://fedora.info/definitions/v4/repository#primaryType> ?repositoryprimaryType .
	FILTER (str(?repositoryprimaryType)!='') } .
OPTIONAL { ?resource <http://fedora.info/definitions/v4/repository#uuid> ?repositoryuuid .
	FILTER (str(?repositoryuuid)!='') } .
OPTIONAL { ?resource <http://fedora.info/definitions/v4/repository#writable> ?repositorywritable .
	FILTER (str(?repositorywritable)!='') } .
OPTIONAL { ?resource <http://terms.library.ualberta.ca/identifiers/hasCollectionId> ?modelsmemberOf .
	FILTER (str(?modelsmemberOf)!='') } .
OPTIONAL { ?resource <http://fedora.info/definitions/v4/repository#hasParent> ?modelsmemberOf .
	FILTER (str(?modelsmemberOf)!='') } .
OPTIONAL { ?resource <info:fedora/fedora-system:def/model#downloadFilename> ?modeldownloadFilename .
	FILTER (str(?modeldownloadFilename)!='') } .
OPTIONAL { ?resource <http://scholarsphere.psu.edu/ns#relativePath> ?nsrelativePath .
	FILTER (str(?nsrelativePath)!='') } .
OPTIONAL { ?resource <http://scholarsphere.psu.edu/ns#onBehalfOf> ?nsonBehalfOf .
	FILTER (str(?nsonBehalfOf)!='') } .
OPTIONAL { ?resource <http://scholarsphere.psu.edu/ns#proxyDepositor> ?nsproxyDepositor .
	FILTER (str(?nsproxyDepositor)!='') } .
OPTIONAL { ?resource <info:fedora/fedora-system:def/model#isPartOf> ?modelisPartOf .
	FILTER (str(?modelisPartOf)!='') } .
OPTIONAL { ?resource <http://www.loc.gov/premis/rdf/v1#hasOriginalName> ?vhasOriginalName .
	FILTER (str(?vhasOriginalName)!='') } .
OPTIONAL { ?resource <http://www.loc.gov/premis/rdf/v1#hasSize> ?vhasSize .
	FILTER (str(?vhasSize)!='') } .
OPTIONAL { ?resource <info:fedora/fedora-system:def/model#createdDate> ?modelcreatedDate .
	FILTER (str(?modelcreatedDate)!='') } .
OPTIONAL { ?resource <http://terms.library.library.ca/id/ingestbatch> ?ingestBatch .
	FILTER (str(?ingestBatch)!='') } .
OPTIONAL { ?resource <http://terms.library.library.ca/identifiers/ingestbatch> ?ingestBatch .
	FILTER (str(?ingestBatch)!='') } .
OPTIONAL { ?resource <info:fedora/fedora-system:def/relations-external#isPartOf> ?relationsexternalisPartOf .
	FILTER (str(?relationsexternalisPartOf)!='') } .
OPTIONAL { ?resource <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> ?rdfsyntaxnstype .
	FILTER (str(?rdfsyntaxnstype)!='') } .
OPTIONAL { ?resource <http://purl.org/dc/terms/description> ?description .
	FILTER (str(?description)!='') } .
OPTIONAL { ?resource <http://purl.org/dc/terms/modified> ?modified .
	FILTER (str(?modified)!='') } .
OPTIONAL { ?resource <http://purl.org/dc/terms/title> ?title .
	FILTER (str(?title)!='') } .
OPTIONAL { ?resource <http://purl.org/dc/terms/creator> ?creator .
	FILTER (str(?creator)!='') } .
OPTIONAL { ?resource <http://purl.org/dc/terms/subject> ?subject .
	FILTER (str(?subject)!='') } .
OPTIONAL { ?resource <http://purl.org/dc/terms/contributor> ?contributor .
	FILTER (str(?contributor)!='') } .
OPTIONAL { ?resource <http://purl.org/dc/terms/rights> ?rights .
	FILTER (str(?rights)!='') } .
OPTIONAL { ?permission webacl:accessTo ?resource ;
	webacl:mode webacl:Read ;
webacl:agent ?visibility } .
OPTIONAL { ?permission webacl:accessTo ?resource ;
	webacl:mode webacl:Write ;
webacl:agent ?owner } .
OPTIONAL { ?resource acl:hasEmbargo ?embargo .
	OPTIONAL { ?embargo acl:embargoReleaseDate ?available } .
OPTIONAL { ?embargo acl:embargoHistory ?history } .
OPTIONAL { ?embargo acl:visibilityAfterEmbargo ?visAfter } } .
BIND(URI(CONCAT(str(?relatedObject), 'era1stats'))) .
BIND(URI(CONCAT(str(?relatedObject2), 'fedora3foxml'))) .
OPTIONAL { ?jupiterObject fedora:created ?relatedFedoraCreated } .
OPTIONAL { ?relatedObject fedora:createdBy ?relatedFedoraCreatedBy } .
OPTIONAL { ?relatedObject fedora:lastModified ?relatedFedoraLastModified } .
OPTIONAL { ?relatedObject fedora:lastModifiedBy ?relatedFedoraLastModifiedBy } .
OPTIONAL { ?relatedObject fedora:writable ?relatedFedoraWritable } .
OPTIONAL { ?relatedObject fedora:uuid ?relatedFedoraUUID } .
OPTIONAL { ?relatedObject fedora:digest ?relatedFedoraDigest } .
OPTIONAL { ?relatedObject rdf:type ?relatedRdfType } .
OPTIONAL { ?relatedObject premis:hasSize ?relatedSize } .
OPTIONAL { ?relatedObject premis:hasOriginalName ?relatedOriginalName } .
OPTIONAL { ?relatedObject fedora:mimeType ?relatedMimeType } .
OPTIONAL { ?relatedObject fedora:mixinTypes ?relatedFileMixins } .
BIND(URI(replace(str(?relatedObject), 'http://gillingham.library.ualberta.ca:8080/fedora/rest/prod/', 'http://uat.library.ualberta.ca:8080/fcrepo/rest/uat/')) AS ?jupiterRelatedObject)
BIND(URI(CONCAT(STR(?relatedObject), '/files')) AS ?relatedFiles) .
BIND(URI(CONCAT(STR(?relatedObject), '/member_of_collections')) AS ?relatedMemberOfCollections) .
BIND(URI(CONCAT(STR(?relatedObject), '/fileset')) AS ?relatedFileset) .
BIND(URI(CONCAT(STR(?relatedFiles), CONCAT('/', regex(str(?resource), '/w+?$')))) AS ?relatedFile) .
BIND(URI(CONCAT(STR(?relatedFile), '/fcr:metadata', '')) AS ?relatedFileFCR) .
BIND(URI(CONCAT(STR(?relatedFile), '/fcr:fixity', '')) AS ?relatedFileFixity) .
BIND(URI(CONCAT(STR(?relatedFile), '/fcr:versions', '')) AS ?relatedFileVersions) .
OPTIONAL { ?relatedFileFCR rdf:type ?relatedFCRRDFType } .
OPTIONAL { ?relatedFileFCR fedora:uuid ?relatedFileUUID } .
OPTIONAL { ?relatedFileFCR fedora:mixinTypes ?relatedFileFCRMixins } .
OPTIONAL { ?relatedFileFCR fedora:primaryType ?primaryType } .
BIND(URI(CONCAT(str(?directMember), 'content'))) .
BIND(URI(CONCAT(str(?directMember2), 'characterization'))) .
OPTIONAL { ?directMember fedora:created ?directFedoraCreated } .
OPTIONAL { ?directMember fedora:createdBy ?directFedoraCreatedBy } .
OPTIONAL { ?directMember fedora:lastModified ?directFedoraLastModified } .
OPTIONAL { ?directMember fedora:lastModifiedBy ?directFedoraLastModifiedBy } .
OPTIONAL { ?directMember fedora:writable ?directFedoraWritable } .
OPTIONAL { ?directMember fedora:uuid ?directFedoraUUID } .
OPTIONAL { ?directMember fedora:digest ?directFedoraDigest } .
OPTIONAL { ?directMember rdf:type ?directRdfType } .
OPTIONAL { ?directMember premis:hasSize ?directSize } .
OPTIONAL { ?directMember premis:hasOriginalName ?directOriginalName } .
OPTIONAL { ?directMember fedora:mimeType ?directMimeType } .
OPTIONAL { ?directMember fedora:mixinTypes ?directFileMixins } .
BIND(URI(replace(str(?directMember), 'http://gillingham.library.ualberta.ca:8080/fedora/rest/prod/', 'http://uat.library.ualberta.ca:8080/fcrepo/rest/uat/')) AS ?jupiterDirectMember)
BIND(URI(CONCAT(STR(?directMember), '/fileset')) AS ?directFileset) .
BIND(URI(CONCAT(STR(?directMember), '/files')) AS ?directFiles) .
BIND(URI(CONCAT(STR(?directMember), '/member_of_collections')) AS ?directMemberOfCollections) .
BIND(URI(CONCAT(STR(?directFiles), CONCAT('/', regex(str(?resource), '/w+?$')))) AS ?directFile) .
BIND(URI(CONCAT(STR(?directFile), '/fcr:metadata', '')) AS ?directFileFCR) .
BIND(URI(CONCAT(STR(?directFile), '/fcr:fixity', '')) AS ?directFileFixity) .
BIND(URI(CONCAT(STR(?directFile), '/fcr:versions', '')) AS ?directFileVersions) .
OPTIONAL { ?directFileFCR rdf:type ?directFCRRDFType } .
OPTIONAL { ?directFileFCR fedora:uuid ?directFileUUID } .
OPTIONAL { ?directFileFCR fedora:mixinTypes ?directFileFCRMixins } .
OPTIONAL { ?directFileFCR fedora:primaryType ?directPrimaryType } .

BIND(URI(replace(str(?resource), 'http://gillingham.library.ualberta.ca:8080/fedora/rest/prod/', 'http://uat.library.ualberta.ca:8080/fcrepo/rest/uat/')) AS ?jupiterResource) }
